!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var i,o=function(){function t(){}return t.shuffle=function(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1));i=[t[n],t[e]],t[e]=i[0],t[n]=i[1]}return t;var i},t.rand=function(e){for(var n=[],i=0;i<e;i++){for(var o=[],r=0;r<e;r++)i!=r&&o.push(r);n[i]=t.shuffle(o)}return n},t.allDifferent=function(t){for(var e=0;e<t.length;e++)if(t.indexOf(t[e])!==e)return!1;return!0},t.clone=function(t){return JSON.parse(JSON.stringify(t))},t}();!function(t){t[t.Initial=0]="Initial",t[t.MakeProposal=1]="MakeProposal",t[t.FindRotation=2]="FindRotation",t[t.Delete=3]="Delete",t[t.Result=4]="Result",t[t.Finish=5]="Finish",t[t.Unsolvable=6]="Unsolvable"}(i||(i={}));var r,s=function(){return function(t,e,n,i,o){this.status=t,this.table=e,this.proposals=n,this.rotation=i,this.deletion=o}}();!function(t){t.Running_1="Phase 1 running",t.Running_2="Phase 2 running",t.Solved="solved",t.Unsolvable="unsolvable"}(r||(r={}));var a=function(){function t(t){this.status=r.Running_1,this.table=t,this.proposals=[];for(var e=0;e<t.length;e++)this.proposals.push(null);this.history=[]}return t.prototype.getHistory=function(){return this.history},t.prototype.getStatus=function(){return this.status},t.prototype.checkStatus=function(){var t=!0;this.status==r.Running_1&&null==this.getFreePerson()&&(this.status=r.Running_2);for(var e=0;e<this.table.length;e++)this.table[e].length>1&&(t=!1);return t&&(this.status=r.Solved),this.status},t.prototype.getFreePerson=function(){for(var t=0;t<this.proposals.length;t++)if(null===this.proposals[t])return t;return null},t.prototype.getPerson=function(){for(var t=0;t<this.table.length;t++)if(this.table[t].length>1)return t;return null},t.prototype.firstOf=function(t){return this.table[t][0]},t.prototype.secondOf=function(t){return this.table[t][1]},t.prototype.lastOf=function(t){return this.table[t][this.table[t].length-1]},t.prototype.nextOf=function(t){return this.lastOf(this.secondOf(t))},t.prototype.removePair=function(t,e){if(-1!=this.table[t].indexOf(e)&&-1!=this.table[e].indexOf(t)&&(this.table[t].splice(this.table[t].indexOf(e),1),this.table[e].splice(this.table[e].indexOf(t),1),0==this.table[t].length||0==this.table[e].length))throw this.status=r.Unsolvable,new Error("empty preferencelist, no stable matching possible")},t.prototype.removePairs=function(t){var e=this;t.forEach(function(t){e.removePair(t[0],t[1])})},t.prototype.findAllAfter=function(t,e){for(var n=[],i=this.table[t].indexOf(e)+1;i<this.table[t].length;)n.push([t,this.table[t][i]]),i++;return n},t.prototype.propose=function(t,e){var n=this.proposals.indexOf(e);-1!=n&&(this.proposals[n]=null),this.proposals[t]=e},t.prototype.findRotation=function(){for(var t=[],e=[],n=this.getPerson();-1===t.indexOf(n);)t.push(n),n=this.nextOf(n);e.push([n,this.firstOf(n)]);for(var i=t.pop();i!=n;)e.unshift([i,this.firstOf(i)]),i=t.pop();return e},t.prototype.findRotationVictims=function(t){for(var e=[],n=t.length,i=0;i<n;i++)e=e.concat(this.findAllAfter(t[(i+1)%n][1],t[i][0]));return e},t.prototype.print=function(){for(var t=this.table,e="",n=0;n<t.length;n++){e+=n+"["+(null===this.proposals[n]?"-":this.proposals[n])+"]| ";for(var i=0;i<t[n].length;i++)e+=t[n][i]+"  ";e+="\n"}console.log(e)},t.prototype.solve=function(){try{for(this.history.push(new s(i.Initial,o.clone(this.table),o.clone(this.proposals),null,null));this.checkStatus()===r.Running_1;){var t=this.getFreePerson(),e=this.firstOf(t);this.propose(t,e),this.history.push(new s(i.MakeProposal,o.clone(this.table),o.clone(this.proposals),void 0,void 0));var n=this.findAllAfter(e,t);this.history.push(new s(i.Delete,o.clone(this.table),o.clone(this.proposals),void 0,n)),this.removePairs(n),this.history.push(new s(i.Result,o.clone(this.table),o.clone(this.proposals),void 0,void 0))}for(;this.checkStatus()===r.Running_2;){var a=this.findRotation();this.history.push(new s(i.FindRotation,o.clone(this.table),void 0,a,void 0));n=this.findRotationVictims(a);this.history.push(new s(i.Delete,o.clone(this.table),void 0,a,n)),this.removePairs(n),this.history.push(new s(i.Result,o.clone(this.table),void 0,void 0,void 0))}return this.history.push(new s(i.Finish,o.clone(this.table),void 0,void 0,void 0)),this.table}catch(t){return this.history.push(new s(i.Unsolvable,o.clone(this.table),void 0,void 0,void 0)),console.warn(t.message),null}},t.createRandom=function(e){return new t(o.rand(e))},t}(),l=function(){function t(){this.dictionary=[]}return t.prototype.getDictionary=function(){return this.dictionary},t.prototype.lookUpOrAdd=function(t){var e=this.dictionary.indexOf(t);return-1===e?(this.dictionary.push(t),this.dictionary.length-1):e},t.prototype.lookUp=function(t){var e=this.dictionary.indexOf(t);if(-1===e)throw new Error("invalid value '"+t+"' in table");return e},t.prototype.parse=function(t,e){var n=this;t=t.trim().replace(/\t+/g," ").replace(/  +/g," ").replace(/\r\n/g,"\n"),e.value=t;var i=t.split("\n"),r=[];this.n=i.length,i.forEach(function(t){var e=t.trim().split(" ").map(function(t){return t.trim()});n.lookUpOrAdd(e[0])});for(var s=0;s<i.length;s++){var a=[],l=i[s].trim().split(" ").map(function(t){return t.trim()});if(l.length-1!=this.n)throw new Error("wrong number of elements in row ["+s+"]");if(!o.allDifferent(l))throw new Error("duplicated value in row with index ["+s+"]");var h=this.lookUp(l[0]);if("|"!=l[1])throw new Error("invalid syntax, there is no | separator");l.shift(),l.shift();for(var c=0,u=l;c<u.length;c++){var d=u[c];a.push(this.lookUp(d))}r[h]=a}if(this.dictionary.length!==this.n)throw new Error("invalid table");return r},t}(),h=function(){return function(t,e,n,i){void 0===e&&(e=!1),void 0===n&&(n=!1),void 0===i&&(i=!1),this.value=t,this.d=e,this.r=n,this.c=i}}(),c=function(){function t(t,e,n){void 0===t&&(t=document.createElement("div")),void 0===e&&(e=document.createElement("table")),void 0===n&&(n=document.createElement("nav"));var i=this;this.controls=t,this.target=e,this.navigation=n,this.buttonLeft=document.createElement("button"),this.buttonRight=document.createElement("button"),this.pageNumber=document.createElement("span"),this.buttonLeft.textContent="<",this.buttonRight.textContent=">",this.pageNumber.textContent="0",this.checkbox=document.createElement("input"),this.checkbox.type="checkbox",this.controls.appendChild(this.buttonLeft),this.controls.appendChild(this.pageNumber),this.controls.appendChild(this.buttonRight),this.controls.appendChild(this.checkbox),this.controls.appendChild(document.createTextNode("show deleted pairs")),this.buttonLeft.addEventListener("click",function(){i.showPrev()}),this.buttonRight.addEventListener("click",function(){i.showNext()}),this.checkbox.addEventListener("click",function(){i.toggleShowDeletedPairs()}),this.navigation.addEventListener("click",function(t){i.navClicked(t)}),document.addEventListener("keydown",function(t){!i.history||37!=t.keyCode&&38!=t.keyCode?!i.history||39!=t.keyCode&&40!=t.keyCode||i.showNext():i.showPrev()})}return t.prototype.setDictionary=function(t){this.dictionary=t},t.prototype.lookUp=function(t){return null!=this.dictionary&&this.dictionary.length>t?this.dictionary[t]:t.toString()},t.prototype.setHistory=function(t){this.history=t,this.currentIndex=0,t.length>0&&(this.dimensions=t[0].table.length,this.setUp(),this.createNav())},t.prototype.setTarget=function(t){this.target=t},t.prototype.setUp=function(){this.target.innerHTML="";for(var t=document.createDocumentFragment(),e=document.createElement("tr"),n=document.createElement("td"),i=0;i<this.dimensions;i++){var o=e.cloneNode(!0),r=n.cloneNode(!0);r.classList.add("head"),r.innerHTML=i.toString(),o.appendChild(r);var s=n.cloneNode(!0);s.innerHTML=" | ",o.appendChild(s);for(var a=0;a<this.dimensions-1;a++){var l=n.cloneNode(!0);l.innerHTML="-",o.appendChild(l)}t.appendChild(o)}this.target.appendChild(t)},t.prototype.statusToString=function(t){switch(t){case i.Initial:return"initial table";case i.MakeProposal:return"make a proposal";case i.FindRotation:return"find rotation";case i.Delete:return"delete pairs";case i.Result:return"result";case i.Finish:return"matching found";case i.Unsolvable:return"unsolvable";default:return""}},t.prototype.createNav=function(){var t=document.createDocumentFragment(),e=document.createElement("div");e.classList.add("navElement");for(var n=0;n<this.history.length;n++){var i=this.history[n],o=e.cloneNode(!0);o.innerHTML+="<span>"+(n+1).toString()+".</span><span>"+this.statusToString(i.status)+"</span>",o.classList.add("status-"+i.status),o.setAttribute("index",n.toString()),t.appendChild(o)}this.navigation.innerHTML="",this.navigation.appendChild(t)},t.prototype.render=function(){var t=this,e=this.history[this.currentIndex],n=this.computeDiff(e);this.clearDecorations();for(var i=0;i<n.length;i++){var o=this.getElement(i);o.textContent=this.lookUp(i),void 0!=e.proposals&&null!=e.proposals[i]&&(o.innerHTML+="<span class='sub'> &#x1F48D;"+this.lookUp(e.proposals[i])+"</span>");for(var r=0;r<n[i].length;r++){var s=n[i][r],a=this.getElement(i,r);a.textContent=this.lookUp(s.value),s.r&&a.classList.add("highlight-3"),s.c&&a.classList.add("highlight-2"),s.d&&a.classList.add("dead")}}null!=e.rotation&&e.rotation.forEach(function(e){t.getElement(e[0]).classList.add("highlight-3")}),this.renderPager()},t.prototype.clearDecorations=function(){for(var t=this.target.querySelectorAll("td"),e=[].slice.call(t),n=0;n<e.length;n++)e[n].classList.remove("dead"),e[n].classList.remove("highlight-1"),e[n].classList.remove("highlight-2"),e[n].classList.remove("highlight-3"),e[n].classList.remove("highlight-4")},t.prototype.navClicked=function(t){for(var e=t.target;!e.classList.contains("navElement")&&"NAV"!=e.nodeName;)e=e.parentElement;e.classList.contains("navElement")&&(this.currentIndex=parseInt(e.getAttribute("index")),this.render())},t.prototype.showPrev=function(){this.currentIndex>0&&(this.currentIndex--,this.render())},t.prototype.showNext=function(){this.currentIndex+1<this.history.length&&(this.currentIndex++,this.render())},t.prototype.renderPager=function(){var t=this.history.length,e=this.currentIndex+1;this.pageNumber.innerHTML=e+" / "+t,this.buttonLeft.disabled=1==e,this.buttonRight.disabled=e==t;var n=this.navigation.querySelector(".navElement.active");n&&n.classList.remove("active"),this.navigation.querySelector(".navElement[index='"+this.currentIndex+"']").classList.add("active")},t.prototype.toggleShowDeletedPairs=function(){this.checkbox.checked?this.target.classList.add("showDeleted"):this.target.classList.remove("showDeleted")},t.prototype.getElement=function(t,e){void 0===e&&(e=-1);var n="";return t+=1,n=-1==e?"tr:nth-child("+t+") td.head":"tr:nth-child("+t+") td:nth-child("+(e+=3)+")",this.target.querySelector(n)},t.prototype.computeDiff=function(t){var e=[],n=this.history[0];if(t.status==i.Initial)for(var o=0;o<t.table.length;o++){for(var r=t.table[o],s=[],a=0;a<r.length;a++)s.push(new h(r[a]));e.push(s)}else{var l=n.table,c=t.table,u=function(n){for(var i=l[n],o=c[n],r=[],s=function(e){var s=i[e];if(-1===o.indexOf(s))r.push(new h(s,!0));else{var a=new h(s);void 0!==t.rotation&&t.rotation.forEach(function(t){t[0]===n&&l[t[0]].indexOf(t[1])===e&&(a.r=!0)}),void 0!==t.deletion&&t.deletion.forEach(function(t){(t[0]===n&&l[t[0]].indexOf(t[1])===e||t[1]===n&&l[t[1]].indexOf(t[0])===e)&&(a.c=!0)}),r.push(a)}},a=0;a<i.length;a++)s(a);e.push(r)};for(o=0;o<l.length;o++)u(o)}return e},t}(),u=function(){function t(t,e,n){var i=this;this.controls=t,this.setupWindow=e,this.demoWindow=n,this.textarea=e.querySelector("textarea"),t.querySelector("button").addEventListener("click",function(){i.toggleWindows()}),e.querySelector("#createButton").addEventListener("click",function(){i.startDemo()}),window.addEventListener("keydown",function(t){13==t.keyCode&&t.ctrlKey&&i.startDemo()},!0),this.renderer=new c(n.querySelector("#controls"),n.querySelector("#demoTarget"),n.querySelector("nav"))}return t.prototype.toggleWindows=function(){this.setupWindow.classList.contains("closed")?(this.setupWindow.classList.remove("closed"),this.demoWindow.classList.add("closed")):(this.setupWindow.classList.add("closed"),this.demoWindow.classList.remove("closed"))},t.prototype.startDemo=function(){try{var t=this.textarea.value;if(-1===t.trim().indexOf(" ")){var e=parseInt(t.trim());if(e<2||e%2!=0)throw new Error("invalid number passed");this.preferenceList=a.createRandom(e),this.renderer.setDictionary(null)}else{var n=new l,i=n.parse(t,this.textarea),o=n.getDictionary();this.preferenceList=new a(i),this.renderer.setDictionary(o)}this.preferenceList.solve();var r=this.preferenceList.getHistory();this.renderer.setHistory(r),this.toggleWindows(),this.renderer.render()}catch(t){console.warn(t),alert(t)}},t}();let d;window.addEventListener("DOMContentLoaded",function(){let t=document.getElementById("controls"),e=document.getElementById("setupWindow"),n=document.getElementById("demoWindow");d=new u(t,e,n)})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzLnRzIiwid2VicGFjazovLy8uL3NyYy9zbmFwc2hvdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcHJlZmVyZW5jZWxpc3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0cmluZ3BhcnNlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcmVuZGVyZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Nvb3JkaW5hdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlNuYXBzaG90U3RhdHVzIiwiVXRpbHMiLCJzaHVmZmxlIiwiYSIsImxlbmd0aCIsImoiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJfYSIsInJhbmQiLCJyZXN1bHQiLCJhcnIiLCJwdXNoIiwiYWxsRGlmZmVyZW50IiwiaW5kZXhPZiIsImNsb25lIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwiU3RhdHVzIiwic3RhdHVzIiwidGFibGUiLCJwcm9wb3NhbHMiLCJyb3RhdGlvbiIsImRlbGV0aW9uIiwidGhpcyIsIlByZWZlcmVuY2VMaXN0IiwiUnVubmluZ18xIiwiaGlzdG9yeSIsImdldEhpc3RvcnkiLCJnZXRTdGF0dXMiLCJjaGVja1N0YXR1cyIsImFsbE9uZSIsImdldEZyZWVQZXJzb24iLCJSdW5uaW5nXzIiLCJTb2x2ZWQiLCJnZXRQZXJzb24iLCJmaXJzdE9mIiwic2Vjb25kT2YiLCJsYXN0T2YiLCJuZXh0T2YiLCJyZW1vdmVQYWlyIiwieCIsInkiLCJzcGxpY2UiLCJVbnNvbHZhYmxlIiwiRXJyb3IiLCJyZW1vdmVQYWlycyIsIl90aGlzIiwiZm9yRWFjaCIsInBhaXIiLCJmaW5kQWxsQWZ0ZXIiLCJ5SW5YIiwicHJvcG9zZSIsImZpbmRSb3RhdGlvbiIsInN0YWNrIiwicDIiLCJwb3AiLCJ1bnNoaWZ0IiwiZmluZFJvdGF0aW9uVmljdGltcyIsImNvbmNhdCIsInByaW50IiwiY29uc29sZSIsImxvZyIsInNvbHZlIiwic25hcHNob3QiLCJJbml0aWFsIiwidXRpbHMiLCJNYWtlUHJvcG9zYWwiLCJ1bmRlZmluZWQiLCJjYW5kaWRhdGVzIiwiRGVsZXRlIiwiUmVzdWx0IiwiRmluZFJvdGF0aW9uIiwiRmluaXNoIiwiZXJyb3IiLCJ3YXJuIiwibWVzc2FnZSIsImNyZWF0ZVJhbmRvbSIsIlN0cmluZ1BhcnNlciIsImRpY3Rpb25hcnkiLCJnZXREaWN0aW9uYXJ5IiwibG9va1VwT3JBZGQiLCJzdHIiLCJsb29rVXAiLCJ0ZXh0YXJlYSIsInRyaW0iLCJyZXBsYWNlIiwic3BsaXQiLCJyb3ciLCJzcGxpdHRlZFJvdyIsIm1hcCIsInJlc3VsdFJvdyIsImZpcnN0Iiwic2hpZnQiLCJfaSIsInNwbGl0dGVkUm93XzEiLCJlbnRyeSIsIkNlbGwiLCJSZW5kZXJlciIsImNvbnRyb2xzIiwidGFyZ2V0IiwibmF2aWdhdGlvbiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImJ1dHRvbkxlZnQiLCJidXR0b25SaWdodCIsInBhZ2VOdW1iZXIiLCJ0ZXh0Q29udGVudCIsImNoZWNrYm94IiwidHlwZSIsImFwcGVuZENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJhZGRFdmVudExpc3RlbmVyIiwic2hvd1ByZXYiLCJzaG93TmV4dCIsInRvZ2dsZVNob3dEZWxldGVkUGFpcnMiLCJlIiwibmF2Q2xpY2tlZCIsImtleUNvZGUiLCJzZXREaWN0aW9uYXJ5IiwiaW5kZXgiLCJ0b1N0cmluZyIsInNldEhpc3RvcnkiLCJjdXJyZW50SW5kZXgiLCJkaW1lbnNpb25zIiwic2V0VXAiLCJjcmVhdGVOYXYiLCJzZXRUYXJnZXQiLCJpbm5lckhUTUwiLCJmcmFnbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJyb3dPcmlnaW5hbCIsImNlbGxPcmlnaW5hbCIsImNsb25lTm9kZSIsImNsYXNzTGlzdCIsImFkZCIsInNlcGFyYXRvciIsImNlbGwiLCJzdGF0dXNUb1N0cmluZyIsIm9yaWdpbmFsIiwiZGl2Iiwic2V0QXR0cmlidXRlIiwicmVuZGVyIiwiZGlmZiIsImNvbXB1dGVEaWZmIiwiY2xlYXJEZWNvcmF0aW9ucyIsImhlYWRDZWxsIiwiZ2V0RWxlbWVudCIsInRyIiwicmVuZGVyUGFnZXIiLCJjZWxscyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjZWxsc0FycmF5Iiwic2xpY2UiLCJyZW1vdmUiLCJlbCIsImNvbnRhaW5zIiwibm9kZU5hbWUiLCJwYXJlbnRFbGVtZW50IiwicGFyc2VJbnQiLCJnZXRBdHRyaWJ1dGUiLCJtYXgiLCJjdXJyZW50IiwiZGlzYWJsZWQiLCJhY3RpdmUiLCJxdWVyeVNlbGVjdG9yIiwiY2hlY2tlZCIsImNvbCIsInF1ZXJ5U3RyaW5nIiwiaW5pdGlhbCIsImVyZyIsIm9yaWdpbmFsVGFibGVfMSIsImN1cnJlbnRUYWJsZSIsIm9yaWdpbmFsUm93IiwiY3VycmVudFJvdyIsIm9yaWdpbmFsQ2VsbCIsImNlbGxfMSIsIkNvb3JkaW5hdG9yIiwic2V0dXBXaW5kb3ciLCJkZW1vV2luZG93IiwidG9nZ2xlV2luZG93cyIsInN0YXJ0RGVtbyIsIndpbmRvdyIsImN0cmxLZXkiLCJyZW5kZXJlciIsInRleHQiLCJwcmVmZXJlbmNlTGlzdCIsInByZWZlcmVuY2VsaXN0Iiwic3RyaW5nUGFyc2VyIiwic3RyaW5ncGFyc2VyIiwiZGljdCIsImhpc3RvcnlfMSIsImFsZXJ0Iiwic3JjX2Nvb3JkaW5hdG9yIiwiZ2V0RWxlbWVudEJ5SWQiLCJjb29yZGluYXRvciJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxhQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxHQUFBLGlCQUFBRixRQUFBRyxXQUFBLE9BQUFILEVBQ0EsSUFBQUksRUFBQVgsT0FBQVksT0FBQSxNQUdBLEdBRkExQixFQUFBa0IsRUFBQU8sR0FDQVgsT0FBQUMsZUFBQVUsRUFBQSxXQUF5Q1QsWUFBQSxFQUFBSyxVQUN6QyxFQUFBRSxHQUFBLGlCQUFBRixFQUFBLFFBQUFNLEtBQUFOLEVBQUFyQixFQUFBVSxFQUFBZSxFQUFBRSxFQUFBLFNBQUFBLEdBQWdILE9BQUFOLEVBQUFNLElB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YXRGLEdBQ2xEaUMsS0FBS2dLLFNBQVNqRSxjQUFjLFVBQ3pCLENBRUgsSUFBSXFFLEVBQWUsSUFBSUMsRUFDbkJ6SyxFQUFRd0ssRUFBYTVLLE1BQU15SyxFQUFNakssS0FBSzRELFVBQ3RDMEcsRUFBT0YsRUFBYTVHLGdCQUN4QnhELEtBQUtrSyxlQUFpQixJQUFJQyxFQUFldkssR0FDekNJLEtBQUtnSyxTQUFTakUsY0FBY3VFLEdBR2hDdEssS0FBS2tLLGVBQWUzSCxRQUNwQixJQUFJZ0ksRUFBVXZLLEtBQUtrSyxlQUFlOUosYUFFbENKLEtBQUtnSyxTQUFTOUQsV0FBV3FFLEdBQ3pCdkssS0FBSzRKLGdCQUNMNUosS0FBS2dLLFNBQVMxQyxTQUVoQixNQUFPMUIsR0FDTHZELFFBQVFjLEtBQUt5QyxHQUNiNEUsTUFBTTVFLEtBSWxCNkQsRUEvRkEsR0NOQSxJQUFBZ0IsRUFFQVgsT0FBQXRFLGlCQUFBLDhCQUVBLElBQUFiLEVBQUFHLFNBQUE0RixlQUFBLFlBQ0FoQixFQUFBNUUsU0FBQTRGLGVBQUEsZUFDQWYsRUFBQTdFLFNBQUE0RixlQUFBLGNBRUFELEVBQUEsSUFBQUUsRUFBQWhHLEVBQUErRSxFQUFBQyIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJ0eXBlIENhbGxiYWNrID0gKHM6IHN0cmluZykgPT4gdm9pZDtcclxuXHJcbi8qKlxyXG4gICAgVXRpbGl0eSBjbGFzcyBmb3Igc3RhYmxlIHJvb21tYXRlc1xyXG4qL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVdGlscyB7XHJcblxyXG4gICAgc3RhdGljIHNodWZmbGUoYSA6IEFycmF5PGFueT4pIDogQXJyYXk8YW55PiB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IGEubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xyXG4gICAgICAgICAgICBjb25zdCBqID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGkgKyAxKSk7XHJcbiAgICAgICAgICAgIFthW2ldLCBhW2pdXSA9IFthW2pdLCBhW2ldXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGE7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIHJhbmQobiA6IG51bWJlcikge1xyXG4gICAgICB2YXIgcmVzdWx0ID0gW107XHJcblxyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgIHZhciBhcnIgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG47IGorKykge1xyXG4gICAgICAgICAgaWYgKGkgPT0gaikgY29udGludWU7XHJcbiAgICAgICAgICBhcnIucHVzaChqKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgIHJlc3VsdFtpXSA9IFV0aWxzLnNodWZmbGUoYXJyKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgYWxsRGlmZmVyZW50KGFycjogQXJyYXk8YW55PikgOiBib29sZWFuIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoYXJyLmluZGV4T2YoYXJyW2ldKSAhPT0gaSkgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlXHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGNsb25lKGFyciA6IGFueSkgOiBhbnkge1xyXG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGFycikpXHJcbiAgICB9XHJcblxyXG59XHJcbiIsIlxyXG5leHBvcnQgZW51bSBTbmFwc2hvdFN0YXR1cyB7XHJcbiAgICBJbml0aWFsLFxyXG4gICAgTWFrZVByb3Bvc2FsLFxyXG4gICAgRmluZFJvdGF0aW9uLFxyXG4gICAgRGVsZXRlLFxyXG4gICAgUmVzdWx0LFxyXG4gICAgRmluaXNoLFxyXG4gICAgVW5zb2x2YWJsZVxyXG59XHJcblxyXG5cclxuXHJcbi8qKlxyXG4gKiBhIHNuYXBzaG90IGluc3RhbmNlIHN0b3JlcyBhIHN0YXRlIG9mIGEgcHJlZmVyZW5jZWxpc3RcclxuICogYW5kIGlzIHJlbmRlcmVkIGFmdGVyd2FyZHNcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNuYXBzaG90IHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzdGF0dXM6IFNuYXBzaG90U3RhdHVzLFxyXG4gICAgICAgICAgICAgICAgcHVibGljIHRhYmxlOiBBcnJheTxBcnJheTxudW1iZXI+PixcclxuICAgICAgICAgICAgICAgIHB1YmxpYyBwcm9wb3NhbHM6IEFycmF5PG51bWJlcj4sXHJcbiAgICAgICAgICAgICAgICBwdWJsaWMgcm90YXRpb246IEFycmF5PEFycmF5PG51bWJlcj4+LFxyXG4gICAgICAgICAgICAgICAgcHVibGljIGRlbGV0aW9uOiBBcnJheTxBcnJheTxudW1iZXI+Pikge31cclxufVxyXG4iLCJpbXBvcnQgVXRpbHMgZnJvbSBcIi4vdXRpbHNcIlxyXG5pbXBvcnQgU25hcHNob3QgZnJvbSBcIi4vc25hcHNob3RcIlxyXG5pbXBvcnQge1NuYXBzaG90U3RhdHVzfSBmcm9tIFwiLi9zbmFwc2hvdFwiXHJcblxyXG5jb25zdCBSVU5OSU5HXzEgPSAwXHJcbmNvbnN0IFJVTk5JTkdfMiA9IDFcclxuY29uc3QgU09MVkVEID0gMlxyXG5jb25zdCBVTlNPTFZBQkxFID0gM1xyXG5cclxuZXhwb3J0IGVudW0gU3RhdHVzIHtcclxuICAgIFJ1bm5pbmdfMSA9IFwiUGhhc2UgMSBydW5uaW5nXCIsXHJcbiAgICBSdW5uaW5nXzIgPSBcIlBoYXNlIDIgcnVubmluZ1wiLFxyXG4gICAgU29sdmVkID0gXCJzb2x2ZWRcIixcclxuICAgIFVuc29sdmFibGUgPSBcInVuc29sdmFibGVcIlxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcmVmZXJlbmNlTGlzdCB7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0dXM6IFN0YXR1c1xyXG4gICAgcHJpdmF0ZSB0YWJsZTogQXJyYXk8QXJyYXk8bnVtYmVyPj5cclxuICAgIHByaXZhdGUgcHJvcG9zYWxzOiBBcnJheTxudW1iZXI+XHJcbiAgICBwcml2YXRlIGhpc3Rvcnk6IEFycmF5PFNuYXBzaG90PlxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHRhYmxlOiBBcnJheTxBcnJheTxudW1iZXI+Pikge1xyXG4gICAgICAgIHRoaXMuc3RhdHVzID0gU3RhdHVzLlJ1bm5pbmdfMVxyXG4gICAgICAgIHRoaXMudGFibGUgPSB0YWJsZVxyXG4gICAgICAgIHRoaXMucHJvcG9zYWxzID0gW11cclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YWJsZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLnByb3Bvc2Fscy5wdXNoKG51bGwpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmhpc3RvcnkgPSBbXVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcHVibGljIGdldEhpc3RvcnkgLSBkZXNjcmlwdGlvblxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4ge0FycmF5PFNuYXBzaG90Pn0gIGRlc2NyaXB0aW9uXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRIaXN0b3J5KCkgOiBBcnJheTxTbmFwc2hvdD4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmhpc3RvcnlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGdldFN0YXR1cyAtIGRlc2NyaXB0aW9uXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiB7bnVtYmVyfSAgZGVzY3JpcHRpb25cclxuICAgICAqL1xyXG4gICAgZ2V0U3RhdHVzKCkgOiBTdGF0dXMge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnN0YXR1c1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIGNoZWNrU3RhdHVzIC0gZGVzY3JpcHRpb25cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIHt0eXBlfSAgZGVzY3JpcHRpb25cclxuICAgICAqL1xyXG4gICAgY2hlY2tTdGF0dXMoKSA6IFN0YXR1cyB7XHJcbiAgICAgICAgbGV0IGFsbE9uZSA9IHRydWVcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09IFN0YXR1cy5SdW5uaW5nXzEgJiYgdGhpcy5nZXRGcmVlUGVyc29uKCkgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLnN0YXR1cyA9IFN0YXR1cy5SdW5uaW5nXzJcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50YWJsZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy50YWJsZVtpXS5sZW5ndGggPiAxKSBhbGxPbmUgPSBmYWxzZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGFsbE9uZSkgdGhpcy5zdGF0dXMgPSBTdGF0dXMuU29sdmVkXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdHVzXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgICAgb25seSBuZWVkZWQgZHVyaW5nIGZpcnN0IHBoYXNlIG9mIHRoZSBhbGdvcml0aG0uXHJcbiAgICAgICAgcmV0dXJucyBhIHBlcnNvbiB3aGljaCBpcyBub3Qgc2VtaWVuZ2FnZWQgdG8gYW55Ym9keVxyXG4gICAgKi9cclxuICAgIGdldEZyZWVQZXJzb24oKSA6IG51bWJlciB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnByb3Bvc2Fscy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wb3NhbHNbaV0gPT09IG51bGwpIHJldHVybiBpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogZ2V0UGVyc29uIC0gZmluZHMgYW4gZW50cnkgcG9pbnQgZm9yIGEgcm90YXRpb246IHRoZSBmaXJzdCBwZXJzb24gd2l0aFxyXG4gICAgICogbW9yZSB0aGFuIG9uZSBwZXJzb24gcmVtYWluaW5nIGluIGl0cyBwZXJmZXJlbmNlIGxpc3RcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ8bnVsbH0gIGRlc2NyaXB0aW9uXHJcbiAgICAgKi9cclxuICAgIGdldFBlcnNvbigpIDogbnVtYmVyIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudGFibGUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudGFibGVbaV0ubGVuZ3RoID4gMSkgcmV0dXJuIGlcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGxcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmaXJzdE9mIC0gZGVzY3JpcHRpb25cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gIHt0eXBlfSBpIGRlc2NyaXB0aW9uXHJcbiAgICAgKiBAcmV0dXJuIHt0eXBlfSAgIGRlc2NyaXB0aW9uXHJcbiAgICAgKi9cclxuICAgIGZpcnN0T2YoaTpudW1iZXIpIDogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50YWJsZVtpXVswXVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIHNlY29uZE9mIC0gZGVzY3JpcHRpb25cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gIHt0eXBlfSBpIGRlc2NyaXB0aW9uXHJcbiAgICAgKiBAcmV0dXJuIHt0eXBlfSAgIGRlc2NyaXB0aW9uXHJcbiAgICAgKi9cclxuICAgIHNlY29uZE9mKGk6bnVtYmVyKSA6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGFibGVbaV1bMV1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGxhc3RPZiAtIGRlc2NyaXB0aW9uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtICB7dHlwZX0gaSBkZXNjcmlwdGlvblxyXG4gICAgICogQHJldHVybiB7dHlwZX0gICBkZXNjcmlwdGlvblxyXG4gICAgICovXHJcbiAgICBsYXN0T2YoaTpudW1iZXIpIDogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50YWJsZVtpXVt0aGlzLnRhYmxlW2ldLmxlbmd0aC0xXVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogbmV4dE9mIC0gZGVzY3JpcHRpb25cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gIHt0eXBlfSBpIGRlc2NyaXB0aW9uXHJcbiAgICAgKiBAcmV0dXJuIHt0eXBlfSAgIGRlc2NyaXB0aW9uXHJcbiAgICAgKi9cclxuICAgIG5leHRPZihpOm51bWJlcikgOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxhc3RPZih0aGlzLnNlY29uZE9mKGkpKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogcmVtb3ZlUGFpciAtIHJlbW92ZXMgcGFpciB7eCwgeX1cclxuICAgICAqIHNvIHJlbW92ZXMgeCBmcm9tIHkncyBwcmVmZXJlbmNlTGlzdCBhbmQgdmljZSB2ZXJzYVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAge251bWJlcn0geCBwZXJzb24gMVxyXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSB5IHBlcnNvbiAyXHJcbiAgICAgKiBAdGhyb3dzIHtFcnJvcn0gaWYgYW55IHByZWZlcmVuY2VMaXN0IGdldHMgZW1wdHlcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlUGFpcih4Om51bWJlciwgeTpudW1iZXIpIDogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMudGFibGVbeF0uaW5kZXhPZih5KSA9PSAtMSB8fCB0aGlzLnRhYmxlW3ldLmluZGV4T2YoeCkgPT0gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnRhYmxlW3hdLnNwbGljZSh0aGlzLnRhYmxlW3hdLmluZGV4T2YoeSksIDEpXHJcbiAgICAgICAgdGhpcy50YWJsZVt5XS5zcGxpY2UodGhpcy50YWJsZVt5XS5pbmRleE9mKHgpLCAxKVxyXG5cclxuICAgICAgICBpZiAodGhpcy50YWJsZVt4XS5sZW5ndGggPT0gMCB8fCB0aGlzLnRhYmxlW3ldLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gU3RhdHVzLlVuc29sdmFibGVcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZW1wdHkgcHJlZmVyZW5jZWxpc3QsIG5vIHN0YWJsZSBtYXRjaGluZyBwb3NzaWJsZVwiKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVQYWlycyhhcnI6IEFycmF5PEFycmF5PG51bWJlcj4+KSB7XHJcbiAgICAgICAgYXJyLmZvckVhY2gocGFpciA9PiB7dGhpcy5yZW1vdmVQYWlyKHBhaXJbMF0sIHBhaXJbMV0pfSlcclxuICAgIH1cclxuXHJcblxyXG4gICAgZmluZEFsbEFmdGVyKHg6bnVtYmVyLCB5Om51bWJlcikgOiBBcnJheTxBcnJheTxudW1iZXI+PiB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdXHJcbiAgICAgICAgbGV0IHlJblggPSB0aGlzLnRhYmxlW3hdLmluZGV4T2YoeSkgKyAxXHJcblxyXG4gICAgICAgIHdoaWxlICh5SW5YIDwgdGhpcy50YWJsZVt4XS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmVzdWx0LnB1c2goW3gsIHRoaXMudGFibGVbeF1beUluWF1dKVxyXG4gICAgICAgICAgICB5SW5YKytcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHRcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHJlbW92ZUFsbEFmdGVyIC0gKHByb2NlZHVyYWwpIHJlbW92ZXMgYWxsIHBlcnNvbnMgYWZ0ZXIgeSBpbiB4J3MgbGlzdFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSAge251bWJlcn0geCBwZXJzb24gMVxyXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSB5IHBlcnNvbiAyXHJcbiAgICAgKlxyXG4gICAgcmVtb3ZlQWxsQWZ0ZXIoeDpudW1iZXIsIHk6bnVtYmVyKSA6IHZvaWQge1xyXG4gICAgICAgIGxldCB5SW5YID0gdGhpcy50YWJsZVt4XS5pbmRleE9mKHkpICsgMVxyXG5cclxuICAgICAgICB3aGlsZSAodGhpcy50YWJsZVt4XS5sZW5ndGggPiB5SW5YKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlUGFpcih4LCB0aGlzLnRhYmxlW3hdW3lJblhdKVxyXG4gICAgICAgIH1cclxuICAgIH0qL1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIHByb3Bvc2UgLSBvbmx5IG5lZWRlZCBkdXJpbmcgcGhhc2UgMVxyXG4gICAgICogcGVyc29uIHggbWFrZXMgYSBwcm9wb3NhbCB0byBwZXJzb24geSwgdGhlcmVmb3JlIGVhY2ggcGFpciB7eSwgen0gd2l0aFxyXG4gICAgICogeiBjb21pbmcgYWZ0ZXIgeCBvbiB5J3MgbGlzdCB3aWxsIGJlIGRlbGV0ZWRcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IHggcGVyc29uIDEgbWFrZXMgcHJvcG9zYWxcclxuICAgICAqIEBwYXJhbSAge251bWJlcn0geSBwZXJzb24gMiByZWNlaXZlcyBwcm9wb3NhbFxyXG4gICAgICovXHJcbiAgICBwcm9wb3NlKHg6bnVtYmVyLCB5Om51bWJlcikgOiB2b2lkIHtcclxuICAgICAgICAvLyBldmVudHVhbGx5IHJlamVjdCBwcmV2aW91cyBwcm9wb3NhbFxyXG4gICAgICAgIGxldCBzID0gdGhpcy5wcm9wb3NhbHMuaW5kZXhPZih5KVxyXG4gICAgICAgIGlmIChzICE9IC0xKSB0aGlzLnByb3Bvc2Fsc1tzXSA9IG51bGxcclxuICAgICAgICB0aGlzLnByb3Bvc2Fsc1t4XSA9IHlcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmaW5kUm90YXRpb24gLSBmaW5kcyBhIHJvdGF0aW9uIGV4cG9zZWQgaW4gdGhlIGN1cnJlbnQgdGFibGVcclxuICAgICAqIG5vdGUgdGhhdCB0aGVyZSBjYW4gYmUgbXVsdGlwbGUgZXhwb3NlZCByb3RhdGlvbnMsIGJ1dCB0aGlzIG1ldGhvZCBvbmx5IHJldHVybnMgb25lIG9mIHRoZW1cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIHthcnJheX0gIGFycmF5IG9mIHRoZSBmb3JtIFtbeDEsIHkxXSwgW3gyLCB5Ml0sIC4uLl1cclxuICAgICAqL1xyXG4gICAgZmluZFJvdGF0aW9uKCkgOiBBcnJheTxBcnJheTxudW1iZXI+PiB7XHJcbiAgICAgICAgbGV0IHN0YWNrID0gW10sIHJvdGF0aW9uID0gW10sIHAgPSB0aGlzLmdldFBlcnNvbigpXHJcblxyXG4gICAgICAgIHdoaWxlIChzdGFjay5pbmRleE9mKHApID09PSAtMSkge1xyXG4gICAgICAgICAgICBzdGFjay5wdXNoKHApXHJcbiAgICAgICAgICAgIHAgPSB0aGlzLm5leHRPZihwKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcm90YXRpb24ucHVzaChbcCwgdGhpcy5maXJzdE9mKHApXSlcclxuICAgICAgICBsZXQgcDIgPSBzdGFjay5wb3AoKVxyXG5cclxuICAgICAgICB3aGlsZSAocDIgIT0gcCkge1xyXG4gICAgICAgICAgICByb3RhdGlvbi51bnNoaWZ0KFtwMiwgdGhpcy5maXJzdE9mKHAyKV0pIC8vIHByZXBlbmQgcGFpciB0byB0aGUgcm90YXRpb24gYXJyYXlcclxuICAgICAgICAgICAgcDIgPSBzdGFjay5wb3AoKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJvdGF0aW9uXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBmaW5kUm90YXRpb25WaWN0aW1zKHJvdGF0aW9uOiBBcnJheTxBcnJheTxudW1iZXI+PikgOiBBcnJheTxBcnJheTxudW1iZXI+PiB7XHJcbiAgICAgICAgbGV0IHJlc3VsdDogQXJyYXk8QXJyYXk8bnVtYmVyPj4gPSBbXSxcclxuICAgICAgICAgICAgbiA9IHJvdGF0aW9uLmxlbmd0aFxyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KHRoaXMuZmluZEFsbEFmdGVyKHJvdGF0aW9uWyhpKzEpICUgbl1bMV0sIHJvdGF0aW9uW2ldWzBdKSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHRcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGRlbGV0ZVJvdGF0aW9uIC0gZGVzY3JpcHRpb25cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gIHt0eXBlfSByb3RhdGlvbiBkZXNjcmlwdGlvblxyXG4gICAgICogQHJldHVybiB7dHlwZX0gICAgICAgICAgZGVzY3JpcHRpb25cclxuICAgICAqXHJcbiAgICBkZWxldGVSb3RhdGlvbihyb3RhdGlvbjpBcnJheTxBcnJheTxudW1iZXI+PikgOiB2b2lkIHtcclxuICAgICAgICBsZXQgbiA9IHJvdGF0aW9uLmxlbmd0aFxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQWxsQWZ0ZXIocm90YXRpb25bKGkrMSkgJSBuXVsxXSwgcm90YXRpb25baV1bMF0pXHJcbiAgICAgICAgfVxyXG4gICAgfSovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBwcmludCAtIHdyaXRlcyB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgdGFibGUgdG8gdGhlIGNvbnNvbGVcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gIHtib29sZWFufSBvcmlnID0gZmFsc2Ugd2hldGVyIHRvIHByaW50IHRoZSBvcmlnaW5hbCB0YWJsZSBvciB0aGUgY3VycmVudCBzdGF0dXMgZHVyaW5nIHRoZSByZWR1Y3Rpb25cclxuICAgICAqL1xyXG4gICAgcHJpbnQoKSA6IHZvaWQge1xyXG4gICAgICAgIGxldCB0YWJsZSA9IHRoaXMudGFibGVcclxuICAgICAgICBsZXQgcyA9IFwiXCJcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YWJsZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBzICs9IGkgKyBcIltcIiArICh0aGlzLnByb3Bvc2Fsc1tpXSA9PT0gbnVsbCA/IFwiLVwiIDogdGhpcy5wcm9wb3NhbHNbaV0pICsgXCJdfCBcIlxyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0YWJsZVtpXS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgcyArPSB0YWJsZVtpXVtqXSArIFwiICBcIlxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzICs9IFwiXFxuXCJcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKHMpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBzb2x2ZSAtIHRyaWVzIHRvIGZ1bGx5IHJlZHVjZSB0aGUgcHJlZmVyZW5jZUxpc3QgaW5zdGFuY2UuXHJcbiAgICAgKiByZXR1cm5zIGEgcG9zc2libGUgc3RhYmxlIG1hdGNoaW5nLCBvciBudWxsIGlmIG5vIHN0YWJsZSBtYXRjaGluZyBleGlzdHNcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIHthcnJheXxudWxsfSAgZGVzY3JpcHRpb25cclxuICAgICAqL1xyXG4gICAgc29sdmUoKSA6IEFycmF5PEFycmF5PG51bWJlcj4+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBhZGQgaW5pdGlhbCBzbmFwc2hvdFxyXG4gICAgICAgICAgICB0aGlzLmhpc3RvcnkucHVzaChuZXcgU25hcHNob3QoU25hcHNob3RTdGF0dXMuSW5pdGlhbCwgVXRpbHMuY2xvbmUodGhpcy50YWJsZSksIFV0aWxzLmNsb25lKHRoaXMucHJvcG9zYWxzKSwgbnVsbCwgbnVsbCkpXHJcblxyXG4gICAgICAgICAgICAvLyBwZXJmb3JtIHBoYXNlIDFcclxuICAgICAgICAgICAgd2hpbGUgKHRoaXMuY2hlY2tTdGF0dXMoKSA9PT0gU3RhdHVzLlJ1bm5pbmdfMSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHggPSB0aGlzLmdldEZyZWVQZXJzb24oKSxcclxuICAgICAgICAgICAgICAgICAgICB5ID0gdGhpcy5maXJzdE9mKHgpXHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wb3NlKHgsIHkpXHJcbiAgICAgICAgICAgICAgICAvLyBhZGQgc25hcHNob3Qgd2hlcmUgeCBwcm9wb3NlcyB0byB5XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhpc3RvcnkucHVzaChuZXcgU25hcHNob3QoU25hcHNob3RTdGF0dXMuTWFrZVByb3Bvc2FsLCBVdGlscy5jbG9uZSh0aGlzLnRhYmxlKSwgVXRpbHMuY2xvbmUodGhpcy5wcm9wb3NhbHMpLCB1bmRlZmluZWQsIHVuZGVmaW5lZCkpXHJcbiAgICAgICAgICAgICAgICBsZXQgY2FuZGlkYXRlcyA9IHRoaXMuZmluZEFsbEFmdGVyKHksIHgpXHJcbiAgICAgICAgICAgICAgICAvLyBhZGQgc25hcHNob3Qgd2l0aCBhbGwgY2FuZGlkYXRlcyB0aGF0IHdpbGwgYmUgZGVsZXRlZFxyXG4gICAgICAgICAgICAgICAgdGhpcy5oaXN0b3J5LnB1c2gobmV3IFNuYXBzaG90KFNuYXBzaG90U3RhdHVzLkRlbGV0ZSwgVXRpbHMuY2xvbmUodGhpcy50YWJsZSksIFV0aWxzLmNsb25lKHRoaXMucHJvcG9zYWxzKSwgdW5kZWZpbmVkLCBjYW5kaWRhdGVzKSlcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlUGFpcnMoY2FuZGlkYXRlcylcclxuICAgICAgICAgICAgICAgIC8vIGFkZCByZXN1bHQgc25hcHNob3RcclxuICAgICAgICAgICAgICAgIHRoaXMuaGlzdG9yeS5wdXNoKG5ldyBTbmFwc2hvdChTbmFwc2hvdFN0YXR1cy5SZXN1bHQsIFV0aWxzLmNsb25lKHRoaXMudGFibGUpLCBVdGlscy5jbG9uZSh0aGlzLnByb3Bvc2FscyksIHVuZGVmaW5lZCwgdW5kZWZpbmVkKSlcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gcGVyZm9ybSBwaGFzZSAyXHJcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLmNoZWNrU3RhdHVzKCkgPT09IFN0YXR1cy5SdW5uaW5nXzIpIHtcclxuICAgICAgICAgICAgICAgIGxldCByID0gdGhpcy5maW5kUm90YXRpb24oKVxyXG4gICAgICAgICAgICAgICAgLy8gYWRkIHNuYXBzaG90IHdoZXJlIGZvdW5kIHJvdGF0aW9uIGlzIGhpZ2hsaWdodGVkXHJcbiAgICAgICAgICAgICAgICB0aGlzLmhpc3RvcnkucHVzaChuZXcgU25hcHNob3QoU25hcHNob3RTdGF0dXMuRmluZFJvdGF0aW9uLCBVdGlscy5jbG9uZSh0aGlzLnRhYmxlKSwgdW5kZWZpbmVkLCByLCB1bmRlZmluZWQpKVxyXG4gICAgICAgICAgICAgICAgLy8gZmluZCBjYW5kaWRhdGVzIHRoYXQgd2lsbCBiZSBkZWxldGVkIGJlY2F1c2Ugb2YgdGhpcyByb3RhdGlvblxyXG4gICAgICAgICAgICAgICAgbGV0IGNhbmRpZGF0ZXMgPSB0aGlzLmZpbmRSb3RhdGlvblZpY3RpbXMocilcclxuICAgICAgICAgICAgICAgIC8vIHRha2Ugc25hcHNob3Qgd2l0aCBjYW5kaWRhdGVzXHJcbiAgICAgICAgICAgICAgICB0aGlzLmhpc3RvcnkucHVzaChuZXcgU25hcHNob3QoU25hcHNob3RTdGF0dXMuRGVsZXRlLCBVdGlscy5jbG9uZSh0aGlzLnRhYmxlKSwgdW5kZWZpbmVkLCByLCBjYW5kaWRhdGVzKSlcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlUGFpcnMoY2FuZGlkYXRlcylcclxuICAgICAgICAgICAgICAgIC8vIGFkZCByZXN1bHQgc25hcHNob3RcclxuICAgICAgICAgICAgICAgIHRoaXMuaGlzdG9yeS5wdXNoKG5ldyBTbmFwc2hvdChTbmFwc2hvdFN0YXR1cy5SZXN1bHQsIFV0aWxzLmNsb25lKHRoaXMudGFibGUpLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKSlcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5oaXN0b3J5LnB1c2gobmV3IFNuYXBzaG90KFNuYXBzaG90U3RhdHVzLkZpbmlzaCwgVXRpbHMuY2xvbmUodGhpcy50YWJsZSksIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQpKVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGFibGVcclxuICAgICAgICB9IGNhdGNoKGVycm9yKSB7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmhpc3RvcnkucHVzaChuZXcgU25hcHNob3QoU25hcHNob3RTdGF0dXMuVW5zb2x2YWJsZSwgVXRpbHMuY2xvbmUodGhpcy50YWJsZSksIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQpKVxyXG5cclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGVycm9yLm1lc3NhZ2UpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICAgIGNyZWF0ZXMgYSByYW5kb20gcHJlZmVyZW5jZSB0YWJsZSBhbmQgcmV0dXJucyBhbiBpbnN0YW5jZSBvZiBQcmVmZXJlbmNlTGlzdFxyXG4gICAgKi9cclxuICAgIHN0YXRpYyBjcmVhdGVSYW5kb20obiA6IG51bWJlcikgOiBQcmVmZXJlbmNlTGlzdCB7XHJcbiAgICAgICAgbGV0IHRhYmxlID0gVXRpbHMucmFuZChuKVxyXG4gICAgICAgIHJldHVybiBuZXcgUHJlZmVyZW5jZUxpc3QodGFibGUpXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFV0aWxzIGZyb20gXCIuL3V0aWxzXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0cmluZ1BhcnNlciB7XHJcblxyXG4gICAgcHJpdmF0ZSBkaWN0aW9uYXJ5IDogQXJyYXk8YW55PlxyXG4gICAgcHJpdmF0ZSBuOiBudW1iZXJcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmRpY3Rpb25hcnkgPSBbXVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXREaWN0aW9uYXJ5KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRpY3Rpb25hcnlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgbG9va1VwT3JBZGQoc3RyOiBzdHJpbmcpIDogbnVtYmVyIHtcclxuICAgICAgICBsZXQgaSA9IHRoaXMuZGljdGlvbmFyeS5pbmRleE9mKHN0cilcclxuXHJcbiAgICAgICAgaWYgKGkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGljdGlvbmFyeS5wdXNoKHN0cilcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGljdGlvbmFyeS5sZW5ndGggLSAxXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsb29rVXAoc3RyOiBzdHJpbmcpIDogbnVtYmVyIHtcclxuICAgICAgICBsZXQgaSA9IHRoaXMuZGljdGlvbmFyeS5pbmRleE9mKHN0cilcclxuXHJcbiAgICAgICAgaWYgKGkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgdmFsdWUgJ1wiICsgc3RyICsgXCInIGluIHRhYmxlXCIpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBwYXJzZShzdHI6IHN0cmluZywgdGV4dGFyZWE6IEhUTUxUZXh0QXJlYUVsZW1lbnQpIHtcclxuICAgICAgICBzdHIgPSBzdHIudHJpbSgpLnJlcGxhY2UoL1xcdCsvZywgJyAnKS5yZXBsYWNlKC8gICsvZywgJyAnKS5yZXBsYWNlKC9cXHJcXG4vZywgXCJcXG5cIilcclxuXHJcbiAgICAgICAgdGV4dGFyZWEudmFsdWUgPSBzdHJcclxuXHJcbiAgICAgICAgbGV0IGFyciA9IHN0ci5zcGxpdChcIlxcblwiKVxyXG4gICAgICAgIGxldCByZXN1bHQgOiBBcnJheTxBcnJheTxudW1iZXI+PiA9IFtdXHJcblxyXG4gICAgICAgIHRoaXMubiA9IGFyci5sZW5ndGhcclxuXHJcbiAgICAgICAgLy8gYWRkIGVudHJpZXMgdG8gdGhlIGRpY3Rpb25hcnkgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlIHJvd3MgaW4gdGhlIHRhYmxlXHJcbiAgICAgICAgYXJyLmZvckVhY2gocm93ID0+IHtcclxuICAgICAgICAgICAgbGV0IHNwbGl0dGVkUm93ID0gcm93LnRyaW0oKS5zcGxpdChcIiBcIikubWFwKHMgPT4gcy50cmltKCkpXHJcbiAgICAgICAgICAgIHRoaXMubG9va1VwT3JBZGQoc3BsaXR0ZWRSb3dbMF0pXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHJvdyA9IGFycltpXSxcclxuICAgICAgICAgICAgICAgIHJlc3VsdFJvdyA9IFtdLFxyXG4gICAgICAgICAgICAgICAgc3BsaXR0ZWRSb3cgPSByb3cudHJpbSgpLnNwbGl0KFwiIFwiKS5tYXAocyA9PiBzLnRyaW0oKSlcclxuXHJcbiAgICAgICAgICAgIGlmIChzcGxpdHRlZFJvdy5sZW5ndGggLSAxICE9IHRoaXMubikge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwid3JvbmcgbnVtYmVyIG9mIGVsZW1lbnRzIGluIHJvdyBbXCIgKyBpICsgXCJdXCIpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghVXRpbHMuYWxsRGlmZmVyZW50KHNwbGl0dGVkUm93KSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZHVwbGljYXRlZCB2YWx1ZSBpbiByb3cgd2l0aCBpbmRleCBbXCIgKyBpICsgXCJdXCIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgZmlyc3QgPSB0aGlzLmxvb2tVcChzcGxpdHRlZFJvd1swXSlcclxuXHJcbiAgICAgICAgICAgIGlmIChzcGxpdHRlZFJvd1sxXSAhPSBcInxcIikge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBzeW50YXgsIHRoZXJlIGlzIG5vIHwgc2VwYXJhdG9yXCIpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHJlbW92ZSBoZWFkIGFuZCBzZXBhcmF0b3JcclxuICAgICAgICAgICAgc3BsaXR0ZWRSb3cuc2hpZnQoKVxyXG4gICAgICAgICAgICBzcGxpdHRlZFJvdy5zaGlmdCgpXHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBlbnRyeSBvZiBzcGxpdHRlZFJvdykge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0Um93LnB1c2godGhpcy5sb29rVXAoZW50cnkpKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXN1bHRbZmlyc3RdID0gcmVzdWx0Um93XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5kaWN0aW9uYXJ5Lmxlbmd0aCAhPT0gdGhpcy5uKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgdGFibGVcIilcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHRcclxuICAgIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IFNuYXBzaG90IGZyb20gXCIuL3NuYXBzaG90XCJcclxuaW1wb3J0IHsgU25hcHNob3RTdGF0dXMgfSBmcm9tIFwiLi9zbmFwc2hvdFwiXHJcbmltcG9ydCBVdGlscyBmcm9tIFwiLi91dGlsc1wiXHJcbmltcG9ydCB7IFN0YXR1cyB9IGZyb20gXCIuL3ByZWZlcmVuY2VsaXN0XCJcclxuXHJcbi8qKlxyXG4gKiBzdG9yYWdlIGNsYXNzIGZvciBjZWxsIGluZm9ybWF0aW9uXHJcbiAqL1xyXG5jbGFzcyBDZWxsIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyB2YWx1ZTogbnVtYmVyLCBwdWJsaWMgZCA9IGZhbHNlLCBwdWJsaWMgciA9IGZhbHNlLCBwdWJsaWMgYyA9IGZhbHNlKSB7IH1cclxufVxyXG5cclxuLyoqXHJcbiAqIHRoZSByZW5kZXJlciBnZXRzIGFuIGFycmF5IG9mIHNuYXBzaG90cyBhbmQgZGlzcGxheXMgdGhlIGN1cnJlbnQgdGFibGUgb2YgYSBzbmFwc2hvdCxcclxuICogYW5kIGFsbG93cyB0byBnbyBiYWNrIGFuZCBmb3J3YXJkIGluIHRoZSBoaXN0b3J5LlxyXG4gKiBJdCBhbHNvIGRpc3BsYXlzIHRoZSB3aG9sZSBoaXN0b3J5IGluIHRoZSBhc2lkZS1lbGVtZW50IFxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVuZGVyZXIge1xyXG5cclxuICAgIGRpY3Rpb25hcnk6IEFycmF5PHN0cmluZz5cclxuICAgIGNvbnRyb2xzOiBIVE1MRGl2RWxlbWVudFxyXG4gICAgbmF2aWdhdGlvbjogSFRNTEVsZW1lbnRcclxuICAgIHRhcmdldDogSFRNTFRhYmxlRWxlbWVudFxyXG4gICAgaGlzdG9yeTogQXJyYXk8U25hcHNob3Q+XHJcbiAgICBjdXJyZW50SW5kZXg6IG51bWJlclxyXG4gICAgZGltZW5zaW9uczogbnVtYmVyXHJcblxyXG4gICAgYnV0dG9uTGVmdDogSFRNTEJ1dHRvbkVsZW1lbnRcclxuICAgIGJ1dHRvblJpZ2h0OiBIVE1MQnV0dG9uRWxlbWVudFxyXG4gICAgcGFnZU51bWJlcjogSFRNTFNwYW5FbGVtZW50XHJcbiAgICBjaGVja2JveDogSFRNTElucHV0RWxlbWVudFxyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoY29udHJvbHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLCB0YXJnZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIiksIG5hdmlnYXRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibmF2XCIpKSB7XHJcbiAgICAgICAgdGhpcy5jb250cm9scyA9IGNvbnRyb2xzXHJcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXRcclxuICAgICAgICB0aGlzLm5hdmlnYXRpb24gPSBuYXZpZ2F0aW9uXHJcblxyXG4gICAgICAgIC8vIHNldCB1cCBjb250cm9scyBhbmQgdGFyZ2V0IHByb3Blcmx5XHJcbiAgICAgICAgdGhpcy5idXR0b25MZWZ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKVxyXG4gICAgICAgIHRoaXMuYnV0dG9uUmlnaHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpXHJcbiAgICAgICAgdGhpcy5wYWdlTnVtYmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIilcclxuICAgICAgICB0aGlzLmJ1dHRvbkxlZnQudGV4dENvbnRlbnQgPSBcIjxcIlxyXG4gICAgICAgIHRoaXMuYnV0dG9uUmlnaHQudGV4dENvbnRlbnQgPSBcIj5cIlxyXG4gICAgICAgIHRoaXMucGFnZU51bWJlci50ZXh0Q29udGVudCA9IFwiMFwiXHJcblxyXG4gICAgICAgIHRoaXMuY2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIilcclxuICAgICAgICB0aGlzLmNoZWNrYm94LnR5cGUgPSBcImNoZWNrYm94XCJcclxuXHJcbiAgICAgICAgdGhpcy5jb250cm9scy5hcHBlbmRDaGlsZCh0aGlzLmJ1dHRvbkxlZnQpXHJcbiAgICAgICAgdGhpcy5jb250cm9scy5hcHBlbmRDaGlsZCh0aGlzLnBhZ2VOdW1iZXIpXHJcbiAgICAgICAgdGhpcy5jb250cm9scy5hcHBlbmRDaGlsZCh0aGlzLmJ1dHRvblJpZ2h0KVxyXG4gICAgICAgIHRoaXMuY29udHJvbHMuYXBwZW5kQ2hpbGQodGhpcy5jaGVja2JveClcclxuICAgICAgICB0aGlzLmNvbnRyb2xzLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwic2hvdyBkZWxldGVkIHBhaXJzXCIpKVxyXG5cclxuICAgICAgICB0aGlzLmJ1dHRvbkxlZnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHsgdGhpcy5zaG93UHJldigpIH0pXHJcbiAgICAgICAgdGhpcy5idXR0b25SaWdodC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4geyB0aGlzLnNob3dOZXh0KCkgfSlcclxuICAgICAgICB0aGlzLmNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7IHRoaXMudG9nZ2xlU2hvd0RlbGV0ZWRQYWlycygpIH0pXHJcblxyXG4gICAgICAgIHRoaXMubmF2aWdhdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGU6IE1vdXNlRXZlbnQpID0+IHsgdGhpcy5uYXZDbGlja2VkKGUpIH0pXHJcblxyXG4gICAgICAgIC8vIGtleSBjb250cm9sc1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGUgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5oaXN0b3J5ICYmIChlLmtleUNvZGUgPT0gMzcgfHwgZS5rZXlDb2RlID09IDM4KSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93UHJldigpXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5oaXN0b3J5ICYmIChlLmtleUNvZGUgPT0gMzkgfHwgZS5rZXlDb2RlID09IDQwKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93TmV4dCgpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXREaWN0aW9uYXJ5KGRpY3Rpb25hcnk6IEFycmF5PHN0cmluZz4pIDogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5kaWN0aW9uYXJ5ID0gZGljdGlvbmFyeVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogbG9va1VwIC0gZGVzY3JpcHRpb25cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IGluZGV4OiBudW1iZXIgZGVzY3JpcHRpb25cclxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gICAgICAgICAgICAgICBkZXNjcmlwdGlvblxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGxvb2tVcChpbmRleDogbnVtYmVyKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAodGhpcy5kaWN0aW9uYXJ5ICE9IG51bGwgJiYgdGhpcy5kaWN0aW9uYXJ5Lmxlbmd0aCA+IGluZGV4KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRpY3Rpb25hcnlbaW5kZXhdXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbmRleC50b1N0cmluZygpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0SGlzdG9yeShoaXN0b3J5OiBBcnJheTxTbmFwc2hvdD4pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmhpc3RvcnkgPSBoaXN0b3J5XHJcbiAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSAwXHJcblxyXG4gICAgICAgIGlmIChoaXN0b3J5Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5kaW1lbnNpb25zID0gaGlzdG9yeVswXS50YWJsZS5sZW5ndGhcclxuICAgICAgICAgICAgdGhpcy5zZXRVcCgpXHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlTmF2KClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0VGFyZ2V0KHRhcmdldDogSFRNTFRhYmxlRWxlbWVudCkgOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldFxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIHByaXZhdGUgc2V0VXAgLSBkZXNjcmlwdGlvblxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzZXRVcCgpIDogdm9pZCB7XHJcbiAgICAgICAgdGhpcy50YXJnZXQuaW5uZXJIVE1MID0gXCJcIlxyXG4gICAgICAgIGxldCBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKVxyXG4gICAgICAgIGxldCByb3dPcmlnaW5hbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKVxyXG4gICAgICAgIGxldCBjZWxsT3JpZ2luYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIilcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRpbWVuc2lvbnM7IGkrKykge1xyXG4gICAgICAgICAgICAvLyBjcmVhdGUgcm93XHJcbiAgICAgICAgICAgIGxldCByb3cgPSByb3dPcmlnaW5hbC5jbG9uZU5vZGUodHJ1ZSkgYXMgSFRNTFRhYmxlUm93RWxlbWVudFxyXG5cclxuICAgICAgICAgICAgLy8gY3JlYXRlIGhlYWQgZWxlbWVudFxyXG4gICAgICAgICAgICBsZXQgZmlyc3QgPSBjZWxsT3JpZ2luYWwuY2xvbmVOb2RlKHRydWUpIGFzIEhUTUxUYWJsZUNlbGxFbGVtZW50XHJcbiAgICAgICAgICAgIGZpcnN0LmNsYXNzTGlzdC5hZGQoXCJoZWFkXCIpXHJcbiAgICAgICAgICAgIGZpcnN0LmlubmVySFRNTCA9IGkudG9TdHJpbmcoKVxyXG4gICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQoZmlyc3QpXHJcblxyXG4gICAgICAgICAgICAvLyBjcmVhdGUgfFxyXG4gICAgICAgICAgICBsZXQgc2VwYXJhdG9yID0gY2VsbE9yaWdpbmFsLmNsb25lTm9kZSh0cnVlKSBhcyBIVE1MVGFibGVDZWxsRWxlbWVudFxyXG4gICAgICAgICAgICBzZXBhcmF0b3IuaW5uZXJIVE1MID0gXCIgfCBcIlxyXG4gICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQoc2VwYXJhdG9yKVxyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmRpbWVuc2lvbnMgLSAxOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBjZWxsID0gY2VsbE9yaWdpbmFsLmNsb25lTm9kZSh0cnVlKSBhcyBIVE1MVGFibGVDZWxsRWxlbWVudFxyXG4gICAgICAgICAgICAgICAgY2VsbC5pbm5lckhUTUwgPSBcIi1cIlxyXG4gICAgICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGNlbGwpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKHJvdylcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudGFyZ2V0LmFwcGVuZENoaWxkKGZyYWdtZW50KVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzdGF0dXNUb1N0cmluZyhzdGF0dXM6IFNuYXBzaG90U3RhdHVzKSA6IHN0cmluZyB7XHJcbiAgICAgICAgc3dpdGNoIChzdGF0dXMpIHtcclxuICAgICAgICAgICAgY2FzZSBTbmFwc2hvdFN0YXR1cy5Jbml0aWFsOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiaW5pdGlhbCB0YWJsZVwiXHJcbiAgICAgICAgICAgIGNhc2UgU25hcHNob3RTdGF0dXMuTWFrZVByb3Bvc2FsOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwibWFrZSBhIHByb3Bvc2FsXCJcclxuICAgICAgICAgICAgY2FzZSBTbmFwc2hvdFN0YXR1cy5GaW5kUm90YXRpb246XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJmaW5kIHJvdGF0aW9uXCJcclxuICAgICAgICAgICAgY2FzZSBTbmFwc2hvdFN0YXR1cy5EZWxldGU6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJkZWxldGUgcGFpcnNcIlxyXG4gICAgICAgICAgICBjYXNlIFNuYXBzaG90U3RhdHVzLlJlc3VsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBcInJlc3VsdFwiXHJcbiAgICAgICAgICAgIGNhc2UgU25hcHNob3RTdGF0dXMuRmluaXNoOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwibWF0Y2hpbmcgZm91bmRcIlxyXG4gICAgICAgICAgICBjYXNlIFNuYXBzaG90U3RhdHVzLlVuc29sdmFibGU6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJ1bnNvbHZhYmxlXCJcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBcIlwiXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgY3JlYXRlTmF2KCk6IHZvaWQge1xyXG4gICAgICAgIGxldCBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcclxuICAgICAgICAgICAgb3JpZ2luYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXHJcblxyXG4gICAgICAgIG9yaWdpbmFsLmNsYXNzTGlzdC5hZGQoXCJuYXZFbGVtZW50XCIpXHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5oaXN0b3J5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBzbmFwc2hvdCA9IHRoaXMuaGlzdG9yeVtpXVxyXG4gICAgICAgICAgICBsZXQgZGl2ID0gKG9yaWdpbmFsLmNsb25lTm9kZSh0cnVlKSBhcyBIVE1MRGl2RWxlbWVudClcclxuXHJcbiAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgKz0gXCI8c3Bhbj5cIiArIChpICsgMSkudG9TdHJpbmcoKSArIFwiLjwvc3Bhbj48c3Bhbj5cIiArIHRoaXMuc3RhdHVzVG9TdHJpbmcoc25hcHNob3Quc3RhdHVzKSArIFwiPC9zcGFuPlwiXHJcbiAgICAgICAgICAgIGRpdi5jbGFzc0xpc3QuYWRkKFwic3RhdHVzLVwiICsgc25hcHNob3Quc3RhdHVzKVxyXG4gICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKFwiaW5kZXhcIiwgaS50b1N0cmluZygpKVxyXG4gICAgICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChkaXYpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm5hdmlnYXRpb24uaW5uZXJIVE1MID0gXCJcIlxyXG4gICAgICAgIHRoaXMubmF2aWdhdGlvbi5hcHBlbmRDaGlsZChmcmFnbWVudClcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiByZW5kZXIgLSBkZXNjcmlwdGlvblxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbmRlcigpOiB2b2lkIHtcclxuICAgICAgICBsZXQgc25hcHNob3QgPSB0aGlzLmhpc3RvcnlbdGhpcy5jdXJyZW50SW5kZXhdXHJcbiAgICAgICAgbGV0IGRpZmYgPSB0aGlzLmNvbXB1dGVEaWZmKHNuYXBzaG90KVxyXG5cclxuICAgICAgICB0aGlzLmNsZWFyRGVjb3JhdGlvbnMoKVxyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpZmYubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGhlYWRDZWxsID0gdGhpcy5nZXRFbGVtZW50KGkpXHJcbiAgICAgICAgICAgIGhlYWRDZWxsLnRleHRDb250ZW50ID0gdGhpcy5sb29rVXAoaSlcclxuXHJcbiAgICAgICAgICAgIGlmIChzbmFwc2hvdC5wcm9wb3NhbHMgIT0gdW5kZWZpbmVkICYmIHNuYXBzaG90LnByb3Bvc2Fsc1tpXSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBoZWFkQ2VsbC5pbm5lckhUTUwgKz0gXCI8c3BhbiBjbGFzcz0nc3ViJz4gJiN4MUY0OEQ7XCIgKyB0aGlzLmxvb2tVcChzbmFwc2hvdC5wcm9wb3NhbHNbaV0pICsgXCI8L3NwYW4+XCJcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBkaWZmW2ldLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2VsbCA9IGRpZmZbaV1bal1cclxuICAgICAgICAgICAgICAgIGxldCB0ciA9IHRoaXMuZ2V0RWxlbWVudChpLCBqKVxyXG5cclxuICAgICAgICAgICAgICAgIHRyLnRleHRDb250ZW50ID0gdGhpcy5sb29rVXAoY2VsbC52YWx1ZSlcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBmb3IgZWFjaCBjZWxsLCBjaGVjazpcclxuICAgICAgICAgICAgICAgIC8vIDEuIGlzIGl0IGluIGEgcm90YXRpb24/XHJcbiAgICAgICAgICAgICAgICBpZiAoY2VsbC5yKSB0ci5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHQtMycpXHJcbiAgICAgICAgICAgICAgICAvLyAyLiBpcyBpdCBhIGRlYXRoIGNhbmRpZGF0ZT9cclxuICAgICAgICAgICAgICAgIGlmIChjZWxsLmMpIHRyLmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodC0yJylcclxuICAgICAgICAgICAgICAgIC8vIDMuIGlzIGl0IGRlYWQ/XHJcbiAgICAgICAgICAgICAgICBpZiAoY2VsbC5kKSB0ci5jbGFzc0xpc3QuYWRkKCdkZWFkJylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZGlzcGxheSByb3RhdGlvbnNcclxuICAgICAgICBpZiAoc25hcHNob3Qucm90YXRpb24gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBzbmFwc2hvdC5yb3RhdGlvbi5mb3JFYWNoKHBhaXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRFbGVtZW50KHBhaXJbMF0pLmNsYXNzTGlzdC5hZGQoXCJoaWdobGlnaHQtM1wiKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5yZW5kZXJQYWdlcigpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGNsZWFyRGVjb3JhdGlvbnMoKSA6IHZvaWQge1xyXG4gICAgICAgIGxldCBjZWxsczogTm9kZUxpc3QgPSB0aGlzLnRhcmdldC5xdWVyeVNlbGVjdG9yQWxsKFwidGRcIilcclxuICAgICAgICBsZXQgY2VsbHNBcnJheTogQXJyYXk8SFRNTEVsZW1lbnQ+ID0gW10uc2xpY2UuY2FsbChjZWxscylcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjZWxsc0FycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNlbGxzQXJyYXlbaV0uY2xhc3NMaXN0LnJlbW92ZShcImRlYWRcIilcclxuICAgICAgICAgICAgY2VsbHNBcnJheVtpXS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlnaGxpZ2h0LTFcIilcclxuICAgICAgICAgICAgY2VsbHNBcnJheVtpXS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlnaGxpZ2h0LTJcIilcclxuICAgICAgICAgICAgY2VsbHNBcnJheVtpXS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlnaGxpZ2h0LTNcIilcclxuICAgICAgICAgICAgY2VsbHNBcnJheVtpXS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlnaGxpZ2h0LTRcIilcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogbmF2Q2xpY2tlZCAtIGRlc2NyaXB0aW9uXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIG5hdkNsaWNrZWQoZTogTW91c2VFdmVudCkgOiB2b2lkIHtcclxuICAgICAgICBsZXQgZWwgPSAoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpXHJcblxyXG4gICAgICAgIHdoaWxlICghZWwuY2xhc3NMaXN0LmNvbnRhaW5zKFwibmF2RWxlbWVudFwiKSAmJiBlbC5ub2RlTmFtZSAhPSBcIk5BVlwiKSB7XHJcbiAgICAgICAgICAgIGVsID0gZWwucGFyZW50RWxlbWVudFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucyhcIm5hdkVsZW1lbnRcIikpIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSBwYXJzZUludChlbC5nZXRBdHRyaWJ1dGUoXCJpbmRleFwiKSlcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXIoKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBzaG93UHJldiAtIGRlc2NyaXB0aW9uXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiB7dHlwZX0gIGRlc2NyaXB0aW9uXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc2hvd1ByZXYoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEluZGV4ID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRJbmRleC0tXHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogc2hvd05leHQgLSBkZXNjcmlwdGlvblxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4ge3R5cGV9ICBkZXNjcmlwdGlvblxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHNob3dOZXh0KCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRJbmRleCArIDEgPCB0aGlzLmhpc3RvcnkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEluZGV4KytcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXIoKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcmVuZGVyUGFnZXIoKSA6IHZvaWQge1xyXG4gICAgICAgIGxldCBtYXggPSB0aGlzLmhpc3RvcnkubGVuZ3RoLFxyXG4gICAgICAgICAgICBjdXJyZW50ID0gdGhpcy5jdXJyZW50SW5kZXggKyAxXHJcblxyXG4gICAgICAgIHRoaXMucGFnZU51bWJlci5pbm5lckhUTUwgPSBjdXJyZW50ICsgXCIgLyBcIiArIG1heFxyXG4gICAgICAgIHRoaXMuYnV0dG9uTGVmdC5kaXNhYmxlZCA9IGN1cnJlbnQgPT0gMVxyXG4gICAgICAgIHRoaXMuYnV0dG9uUmlnaHQuZGlzYWJsZWQgPSBjdXJyZW50ID09IG1heFxyXG5cclxuICAgICAgICBsZXQgYWN0aXZlID0gdGhpcy5uYXZpZ2F0aW9uLnF1ZXJ5U2VsZWN0b3IoXCIubmF2RWxlbWVudC5hY3RpdmVcIilcclxuICAgICAgICBpZiAoYWN0aXZlKSBhY3RpdmUuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKVxyXG5cclxuICAgICAgICBsZXQgbmV3QWN0aXZlID0gdGhpcy5uYXZpZ2F0aW9uLnF1ZXJ5U2VsZWN0b3IoXCIubmF2RWxlbWVudFtpbmRleD0nXCIgKyB0aGlzLmN1cnJlbnRJbmRleCArIFwiJ11cIilcclxuXHJcbiAgICAgICAgbmV3QWN0aXZlLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIilcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgdG9nZ2xlU2hvd0RlbGV0ZWRQYWlycygpIDogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tib3guY2hlY2tlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnRhcmdldC5jbGFzc0xpc3QuYWRkKFwic2hvd0RlbGV0ZWRcIilcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKFwic2hvd0RlbGV0ZWRcIilcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGdldEVsZW1lbnQocm93OiBudW1iZXIsIGNvbCA9IC0xKTogSFRNTFNwYW5FbGVtZW50IHtcclxuICAgICAgICBsZXQgcXVlcnlTdHJpbmcgPSBcIlwiXHJcbiAgICAgICAgcm93ICs9IDFcclxuXHJcbiAgICAgICAgaWYgKGNvbCA9PSAtMSkge1xyXG4gICAgICAgICAgICBxdWVyeVN0cmluZyA9IFwidHI6bnRoLWNoaWxkKFwiICsgcm93ICsgXCIpIHRkLmhlYWRcIlxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbCArPSAzXHJcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nID0gXCJ0cjpudGgtY2hpbGQoXCIgKyByb3cgKyBcIikgdGQ6bnRoLWNoaWxkKFwiICsgY29sICsgXCIpXCJcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnRhcmdldC5xdWVyeVNlbGVjdG9yKHF1ZXJ5U3RyaW5nKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBjb21wdXRlRGlmZihzOiBTbmFwc2hvdCk6IEFycmF5PEFycmF5PENlbGw+PiB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdLFxyXG4gICAgICAgICAgICBpbml0aWFsID0gdGhpcy5oaXN0b3J5WzBdXHJcblxyXG4gICAgICAgIGlmIChzLnN0YXR1cyA9PSBTbmFwc2hvdFN0YXR1cy5Jbml0aWFsKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcy50YWJsZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IHJvdyA9IHMudGFibGVbaV1cclxuICAgICAgICAgICAgICAgIGxldCBlcmcgPSBbXVxyXG5cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcm93Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJnLnB1c2gobmV3IENlbGwocm93W2pdKSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGVyZylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBvcmlnaW5hbFRhYmxlID0gaW5pdGlhbC50YWJsZSxcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRUYWJsZSA9IHMudGFibGVcclxuXHJcbiAgICAgICAgICAgIC8vIGNvbXB1dGUgZGlmZmVyZW5jZSBiZXR3ZWVuIG9yaWdpbmFsIHRhYmxlIGFuZCBjdXJyZW50IHRhYmxlXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3JpZ2luYWxUYWJsZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IG9yaWdpbmFsUm93ID0gb3JpZ2luYWxUYWJsZVtpXSxcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50Um93ID0gY3VycmVudFRhYmxlW2ldLFxyXG4gICAgICAgICAgICAgICAgICAgIGVyZyA9IFtdXHJcblxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBvcmlnaW5hbFJvdy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBvcmlnaW5hbENlbGwgPSBvcmlnaW5hbFJvd1tqXVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFJvdy5pbmRleE9mKG9yaWdpbmFsQ2VsbCkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZCBkZWFkIGNlbGxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJnLnB1c2gobmV3IENlbGwob3JpZ2luYWxDZWxsLCB0cnVlKSlcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgYWxpdmUgY2VsbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2VsbCA9IG5ldyBDZWxsKG9yaWdpbmFsQ2VsbClcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLnJvdGF0aW9uICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMucm90YXRpb24uZm9yRWFjaChwYWlyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFpclswXSA9PT0gaSAmJiBvcmlnaW5hbFRhYmxlW3BhaXJbMF1dLmluZGV4T2YocGFpclsxXSkgPT09IGopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5yID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMuZGVsZXRpb24gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcy5kZWxldGlvbi5mb3JFYWNoKHBhaXIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYWlyWzBdID09PSBpICYmIG9yaWdpbmFsVGFibGVbcGFpclswXV0uaW5kZXhPZihwYWlyWzFdKSA9PT0galxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBwYWlyWzFdID09PSBpICYmIG9yaWdpbmFsVGFibGVbcGFpclsxXV0uaW5kZXhPZihwYWlyWzBdKSA9PT0gaikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxsLmMgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJnLnB1c2goY2VsbClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZXJnKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgfVxyXG5cclxuXHJcblxyXG59XHJcbiIsImltcG9ydCBQcmVmZXJlbmNlTGlzdCBmcm9tIFwiLi9wcmVmZXJlbmNlbGlzdFwiXHJcbmltcG9ydCBTdHJpbmdQYXJzZXIgZnJvbSBcIi4vc3RyaW5ncGFyc2VyXCJcclxuaW1wb3J0IFJlbmRlcmVyIGZyb20gXCIuL3JlbmRlcmVyXCJcclxuaW1wb3J0IFV0aWxzIGZyb20gXCIuL3V0aWxzXCJcclxuXHJcbi8qKlxyXG4gKiBjb29yZGluYXRlcyBwYWdlIGludGVyYWN0aW9ucywgaW5pdGlhbGl6ZXMgdGhlIHJlbmRlcmVyIFxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29vcmRpbmF0b3Ige1xyXG5cclxuICAgIHByaXZhdGUgY29udHJvbHM6IEhUTUxEaXZFbGVtZW50XHJcbiAgICBwcml2YXRlIHNldHVwV2luZG93OiBIVE1MRGl2RWxlbWVudFxyXG4gICAgcHJpdmF0ZSBkZW1vV2luZG93OiBIVE1MRGl2RWxlbWVudFxyXG4gICAgcHJpdmF0ZSB0ZXh0YXJlYTogSFRNTFRleHRBcmVhRWxlbWVudFxyXG5cclxuXHJcbiAgICAvL1xyXG4gICAgcHJpdmF0ZSBwcmVmZXJlbmNlTGlzdDogUHJlZmVyZW5jZUxpc3RcclxuICAgIHByaXZhdGUgc3RyaW5nUGFyc2VyOiBTdHJpbmdQYXJzZXJcclxuICAgIHByaXZhdGUgcmVuZGVyZXI6IFJlbmRlcmVyXHJcblxyXG4gICAgY29uc3RydWN0b3IoY29udHJvbHM6IEhUTUxEaXZFbGVtZW50LCBzZXR1cFdpbmRvdzogSFRNTERpdkVsZW1lbnQsIGRlbW9XaW5kb3c6IEhUTUxEaXZFbGVtZW50KSB7XHJcbiAgICAgICAgLy8gc2V0IHVwIERPTSBldGMuXHJcbiAgICAgICAgdGhpcy5jb250cm9scyA9IGNvbnRyb2xzXHJcbiAgICAgICAgdGhpcy5zZXR1cFdpbmRvdyA9IHNldHVwV2luZG93XHJcbiAgICAgICAgdGhpcy5kZW1vV2luZG93ID0gZGVtb1dpbmRvd1xyXG4gICAgICAgIHRoaXMudGV4dGFyZWEgPSBzZXR1cFdpbmRvdy5xdWVyeVNlbGVjdG9yKFwidGV4dGFyZWFcIilcclxuXHJcbiAgICAgICAgY29udHJvbHMucXVlcnlTZWxlY3RvcihcImJ1dHRvblwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVdpbmRvd3MoKVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHNldHVwV2luZG93LnF1ZXJ5U2VsZWN0b3IoXCIjY3JlYXRlQnV0dG9uXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnREZW1vKClcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICAvLyBzdGFydCBkZW1vIG9uIGN0cmwgKyBlbnRlclxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcclxuICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAxMyAmJiBlLmN0cmxLZXkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnREZW1vKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRydWUpXHJcblxyXG4gICAgICAgIC8vIHNldCB1cCBhIHJlbmRlcmVyXHJcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG5ldyBSZW5kZXJlcihkZW1vV2luZG93LnF1ZXJ5U2VsZWN0b3IoXCIjY29udHJvbHNcIiksXHJcbiAgICAgICAgICAgIGRlbW9XaW5kb3cucXVlcnlTZWxlY3RvcihcIiNkZW1vVGFyZ2V0XCIpLCBkZW1vV2luZG93LnF1ZXJ5U2VsZWN0b3IoXCJuYXZcIikpXHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIHRvZ2dsZVdpbmRvd3MgLSBkZXNjcmlwdGlvblxyXG4gICAgICovXHJcbiAgICB0b2dnbGVXaW5kb3dzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNldHVwV2luZG93LmNsYXNzTGlzdC5jb250YWlucyhcImNsb3NlZFwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldHVwV2luZG93LmNsYXNzTGlzdC5yZW1vdmUoXCJjbG9zZWRcIilcclxuICAgICAgICAgICAgdGhpcy5kZW1vV2luZG93LmNsYXNzTGlzdC5hZGQoXCJjbG9zZWRcIilcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNldHVwV2luZG93LmNsYXNzTGlzdC5hZGQoXCJjbG9zZWRcIilcclxuICAgICAgICAgICAgdGhpcy5kZW1vV2luZG93LmNsYXNzTGlzdC5yZW1vdmUoXCJjbG9zZWRcIilcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBzdGFydERlbW8oKTogdm9pZCB7XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCB0ZXh0ID0gdGhpcy50ZXh0YXJlYS52YWx1ZVxyXG5cclxuICAgICAgICAgICAgaWYgKHRleHQudHJpbSgpLmluZGV4T2YoXCIgXCIpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgLy8gY3JlYXRlIHJhbmRvbSB0YWJsZVxyXG4gICAgICAgICAgICAgICAgbGV0IG4gPSBwYXJzZUludCh0ZXh0LnRyaW0oKSlcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobiA8IDIgfHwgbiAlIDIgIT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgbnVtYmVyIHBhc3NlZFwiKVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMucHJlZmVyZW5jZUxpc3QgPSBQcmVmZXJlbmNlTGlzdC5jcmVhdGVSYW5kb20obilcclxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0RGljdGlvbmFyeShudWxsKVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gY3JlYXRlIHRhYmxlIGZyb20gaW5wdXRcclxuICAgICAgICAgICAgICAgIGxldCBzdHJpbmdQYXJzZXIgPSBuZXcgU3RyaW5nUGFyc2VyKClcclxuICAgICAgICAgICAgICAgIGxldCB0YWJsZSA9IHN0cmluZ1BhcnNlci5wYXJzZSh0ZXh0LCB0aGlzLnRleHRhcmVhKVxyXG4gICAgICAgICAgICAgICAgbGV0IGRpY3QgPSBzdHJpbmdQYXJzZXIuZ2V0RGljdGlvbmFyeSgpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnByZWZlcmVuY2VMaXN0ID0gbmV3IFByZWZlcmVuY2VMaXN0KHRhYmxlKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXREaWN0aW9uYXJ5KGRpY3QpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJlZmVyZW5jZUxpc3Quc29sdmUoKVxyXG4gICAgICAgICAgICBsZXQgaGlzdG9yeSA9IHRoaXMucHJlZmVyZW5jZUxpc3QuZ2V0SGlzdG9yeSgpXHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldEhpc3RvcnkoaGlzdG9yeSlcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVXaW5kb3dzKClcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIoKVxyXG5cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihlKVxyXG4gICAgICAgICAgICBhbGVydChlKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IENvb3JkaW5hdG9yIGZyb20gXCIuL2Nvb3JkaW5hdG9yXCJcclxuXHJcbmxldCBjb29yZGluYXRvclxyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIGxldCBjb250cm9scyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udHJvbHNcIiksXHJcbiAgICAgICAgc2V0dXBXaW5kb3cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNldHVwV2luZG93XCIpLFxyXG4gICAgICAgIGRlbW9XaW5kb3cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlbW9XaW5kb3dcIilcclxuXHJcbiAgICBjb29yZGluYXRvciA9IG5ldyBDb29yZGluYXRvcihjb250cm9scywgc2V0dXBXaW5kb3csIGRlbW9XaW5kb3cpXHJcbn0pXHJcbiJdLCJzb3VyY2VSb290IjoiIn0=